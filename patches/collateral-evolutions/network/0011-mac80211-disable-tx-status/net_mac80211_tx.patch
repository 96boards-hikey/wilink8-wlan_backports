--- a/net/mac80211/tx.c
+++ b/net/mac80211/tx.c
@@ -2070,6 +2070,7 @@ netdev_tx_t ieee80211_subif_start_xmit(s
 		goto fail_rcu;
 	}
 
+#if (LINUX_VERSION_CODE >= KERNEL_VERSION(3,3,0))
 	if (unlikely(!multicast && skb->sk &&
 		     skb_shinfo(skb)->tx_flags & SKBTX_WIFI_STATUS)) {
 		struct sk_buff *ack_skb = skb_clone_sk(skb);
@@ -2091,6 +2092,7 @@ netdev_tx_t ieee80211_subif_start_xmit(s
 			}
 		}
 	}
+#endif
 
 	/*
 	 * If the skb is shared we need to obtain our own copy.
