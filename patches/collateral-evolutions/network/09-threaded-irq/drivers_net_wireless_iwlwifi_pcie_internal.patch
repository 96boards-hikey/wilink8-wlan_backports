--- a/drivers/net/wireless/iwlwifi/pcie/internal.h
+++ b/drivers/net/wireless/iwlwifi/pcie/internal.h
@@ -265,6 +265,9 @@ iwl_pcie_get_scratchbuf_dma(struct iwl_t
  * @cmd_in_flight: true when we have a host command in flight
  */
 struct iwl_trans_pcie {
+#if LINUX_VERSION_CODE < KERNEL_VERSION(2,6,31)
+	struct compat_threaded_irq irq_compat;
+#endif
 	struct iwl_rxq rxq;
 	struct work_struct rx_replenish;
 	struct iwl_trans *trans;
