--- a/drivers/net/wireless/ath/ath5k/attach.c
+++ b/drivers/net/wireless/ath/ath5k/attach.c
@@ -20,8 +20,10 @@
 * Attach/Detach Functions and helpers *
 \*************************************/
 
+#undef pr_fmt
 #define pr_fmt(fmt) KBUILD_MODNAME ": " fmt
 
+#include <linux/printk.h>
 #include <linux/pci.h>
 #include <linux/slab.h>
 #include "ath5k.h"
